<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ê¸°ë¡</title>
<style>
body{margin:0;background:#f6f7fb;font-family:sans-serif}
.top{padding:10px;background:#fff;border-bottom:1px solid #ddd;display:flex;gap:8px}
.btn{padding:6px 10px;border:1px solid #ccc;border-radius:6px;background:#fff}
.card{background:#fff;margin:12px;padding:12px;border-radius:12px}
</style>
</head>
<body>

<div class="top">
<button class="btn" onclick="location.href='roulette.html'">â† ë£°ë ›</button>
<button class="btn" onclick="location.href='lotto.html'">ğŸŸ ë³µê¶Œ</button>
<div style="flex:1"></div>
<div id="who"></div>
</div>

<div id="app" class="card">ë¡œë”©ì¤‘...</div>

<script src="https://www.gstatic.com/firebasejs/12.8.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/12.8.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/12.8.0/firebase-firestore-compat.js"></script>

<script>
window.onerror=function(msg){
document.body.innerHTML="<h2>JS ì˜¤ë¥˜</h2><pre>"+msg+"</pre>";
};

const firebaseConfig={
apiKey:"AIzaSyCgVETP2TbQOkDeh5D2ocwXhUMPcZYYKbs",
authDomain:"roulette-b5455.firebaseapp.com",
projectId:"roulette-b5455"
};

firebase.initializeApp(firebaseConfig);
const auth=firebase.auth();
const db=firebase.firestore();

auth.onAuthStateChanged(async user=>{
if(!user){location.href="index.html";return;}

document.getElementById("who").textContent=user.email;

const snap=await db.collection("users").doc(user.uid).get();
if(!snap.exists()){
document.getElementById("app").innerHTML="í”„ë¡œí•„ ì—†ìŒ";
return;
}

document.getElementById("app").innerHTML="ê¸°ë¡ í˜ì´ì§€ ì •ìƒ ì‘ë™ ì¤‘ âœ…";
});
</script>

</body>
</html>
