<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ë£°ë › ë©”ì¸</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #f5f5f5;
  text-align: center;
  padding: 40px;
}
.box {
  background: white;
  padding: 20px;
  margin: 20px auto;
  width: 320px;
  border-radius: 10px;
}
input, button { margin-top: 6px; }
button {
  padding: 8px 16px;
  border: none;
  border-radius: 6px;
  background: #4CAF50;
  color: white;
  cursor: pointer;
}
button:active { transform: translateY(1px); }
.smalllink{font-size:12px;color:#666;margin-top:10px}
.smalllink a{color:#3b6ff5;text-decoration:none}
</style>
</head>
<body>

<h1>ğŸ¯ ë£°ë ›</h1>

ë‹‰ë„¤ì„<br>
<input id="nickname" placeholder="ë‹‰ë„¤ì„ ì…ë ¥"><br><br>

<div class="box">
  <h3>ì¼ë°˜ë£°ë ›</h3>
  íšŸìˆ˜ <input type="number" id="c1" value="1" min="1"><br>
  <button onclick="run(1,'ì¼ë°˜ë£°ë ›')">ì‹¤í–‰</button>
</div>

<div class="box">
  <h3>ê·€ì¡±ë£°ë ›</h3>
  íšŸìˆ˜ <input type="number" id="c2" value="1" min="1"><br>
  <button onclick="run(2,'ê·€ì¡±ë£°ë ›')">ì‹¤í–‰</button>
</div>

<div class="box">
  <h3>ì‹œê°„ ë£°ë ›</h3>
  íšŸìˆ˜ <input type="number" id="c3" value="1" min="1"><br>
  <button onclick="run(3,'ì‹œê°„ ë£°ë ›')">ì‹¤í–‰</button>
</div>

<div class="smalllink">
  ê¸°ë¡ ë³´ê¸°: <a href="log.html">log.html ì—´ê¸°</a>
</div>

<script>
// =======================
// ì¼ë°˜ë£°ë › í•­ëª© + í™•ë¥ 
// =======================
const normalItems = [
  { label:"ëƒ¥ë©ì²´[3ë¶„]", weight:3.4 },
  { label:"ì›í•˜ëŠ”ì²´[3ë¶„_5ê¸€ì]", weight:3.4 },
  { label:"ì§§ì€ì• êµëŒ€ì‚¬[5ì¤„ ì´í•˜]", weight:1.7 },
  { label:"íŒ¬ë³´ë“œ", weight:1.7 },
  { label:"í˜€ë´‰ì¸[1ë¶„]", weight:3.4 },
  { label:"ë°›ì¹¨ë´‰ì¸[1ë¶„]", weight:3.4 },
  { label:"ì˜ ì–´ê¸ˆì§€[3ë¶„]", weight:3.4 },
  { label:"ì¹¨ë±‰ê¸°", weight:3.4 },
  { label:"ì§§ì€íŒ¬ë³´ë“œ[1~2ì¤„]", weight:3.4 },
  { label:"ì‹¤ë“œ+100", weight:2.3 },
  { label:"ì‹¤ë“œ-100", weight:2.3 },
  { label:"ASMRë°©ì†¡[3ë¶„]", weight:1.7 },
  { label:"ë£°ë › ë‹¤ëŒê¶Œ", weight:3.4 },
  { label:"í—¬ê¸° ë¦¬ì•¡[í‚µx]", weight:1.7 },
  { label:"ã…‡ë°›ì¹¨ì²´[2ë¶„]", weight:3.4 },
  { label:"ì¶œì„ì²´í¬ ë¦¬ì•¡[í‚µx]", weight:3.4 },
  { label:"ë¸Œë¼ë³´[í‚µx]", weight:3.4 },
  { label:"3ì¸ì¹­[1ë¶„]", weight:3.4 },
  { label:"ë°©ì¢…ê¹Œì§€ ì‰´ë“œ 0ê°œ[í‚µx]", weight:1.7 },
  { label:"ë°œë°•ìˆ˜", weight:3.4 },
  { label:"ë°©ì œ ë³€ê²½ê¶Œ[10ë¶„/í‚µ ë¶ˆê°€]", weight:1.7 },
  { label:"ë°°ê²½ì‚¬ì§„ ë³€ê²½ê¶Œ[10ë¶„/í‚µ ë¶ˆê°€]", weight:1.7 },
  { label:"ì—°í•˜ì¶©ì• êµë„ë¦¬[1ë¶„]", weight:1.7 },
  { label:"ë´‰ì¸ì¶”ê°€", weight:1.7 },
  { label:"ë´‰ì¸ì œê±°", weight:1.7 },
  { label:"ì´ì‘¤ì‹œê°œ ë¦¬ì•¡ì…˜[í‚µx]", weight:1.7 },
  { label:"ë°°í†µí†µ[í‚µx]", weight:3.4 },
  { label:"ê³µì§€ë³€ê²½ê¶Œ[ë‹¤ìŒ ë°©ì†¡ê¹Œì§€]", weight:1.7 },
  { label:"ë°•ìˆ˜ 3ë²ˆ[í‚µx]", weight:3.4 },
  { label:"íˆ¬ëª…ì˜ì 1ë¶„[í‚µx]", weight:1.7 },
  { label:"ìŠ¤ì¿¼íŠ¸ 5ê°œ[í‚µx]", weight:1.7 },
  { label:"ë²½ì°[í‚µx]", weight:3.4 },
  { label:"TMI 1ê°œ ì˜¬ë¦¬ê¸°", weight:3.4 },
  { label:"ì´ë¦„ 3ë²ˆ ë¶ˆëŸ¬ì£¼ê¸°", weight:1.7 },
  { label:"ê½", weight:12.1 }
];

// =======================
// ê·€ì¡±ë£°ë ›
// =======================
const nobleItems = [
  { label: "24ì‹œê°„ ë‹‰ë³€ê¶Œ", weight: 10 },
  { label: "24ì‹œê°„ ì—­ë‹‰ë³€ê¶Œ", weight: 10 },
  { label: "ì›í•˜ëŠ” ë…¹ìŒë³¸ ë³´ë‚´ì£¼ê¸°[ì§§ì€ ì• êµ/ì›í•˜ëŠ” ëŒ€ì‚¬/ë¦¬ì•¡ì…˜]", weight: 4 },
  { label: "ë‹¨ë… ë°•ì œí¸ì§€", weight: 4 },
  { label: "ë£°ë › ì„ íƒê¶Œ[ê¸°ë³¸ or ê·€ì¡± ì¤‘ ì›í•˜ëŠ” ê²ƒ í•˜ë‚˜ ê³ ë¥´ê¸°]", weight: 4 },
  { label: "ìºìŠ¤íŠ¸ ì €ì¥ê¶Œ 2íšŒ", weight: 13 },
  { label: "ì‹¤ë“œ 2ë°°", weight: 5 },
  { label: "ì‹¤ë“œí‘ 2ë°°", weight: 5 },
  { label: "ê·€ì¡±ë£°ë › í• ì¸ê¶Œ(250ìŠ¤í‘¼,3ë¶„/ë³¸ì¸ë§Œ ì‚¬ìš© ê°€ëŠ¥)", weight: 4 },
  { label: "ê·€ì¡±ë£°ë › ë‹¤ëŒê¶Œ", weight: 10 },
  { label: "ì›í•˜ëŠ” ì´ë¦„ìœ¼ë¡œ ìºìŠ¤íŠ¸ ì €ì¥ê¶Œ", weight: 5 },
  { label: "ì›í•˜ëŠ” ë…¹ìŒë³¸ ìºìŠ¤íŠ¸[ì§§ì€ ì• êµ/ì›í•˜ëŠ” ëŒ€ì‚¬/ë¦¬ì•¡ì…˜/1ì¼]", weight: 4 },
  { label: "ì‹¤ë“œ ìŒìˆ˜ë¡œ ë³€ê²½", weight: 4 },
  { label: "ì‹¤ë“œ ì–‘ìˆ˜ë¡œ ë³€ê²½", weight: 4 },
  { label: "ê²Œì„ ë°ì´íŠ¸ê¶Œ[1ì‹œê°„/ë§ˆì´í¬ ì‚¬ìš©ì€ ìƒëŒ€ë°©ì— ë”°ë¼]", weight: 4 },
  { label: "íŒ¬ë³´ë“œ 3ê°œ ì¶”ê°€", weight: 5 },
  { label: "ë„ë¦¬ ìš©ëˆ", weight: 5 }
];

// =======================
// ì‹œê°„ ë£°ë ›
// =======================
const timeItems = [
  { label: "ë°©ì†¡ ì—°ì¥ê¶Œ +1ë¶„",  weight: 41 },
  { label: "ë°©ì†¡ ì—°ì¥ê¶Œ +10ë¶„", weight: 5  },
  { label: "ë°©ì†¡ ì—°ì¥ê¶Œ +20ë¶„", weight: 3  },
  { label: "ë°©ì†¡ ì—°ì¥ê¶Œ +30ë¶„", weight: 1  },
  { label: "ë°©ì†¡ ë‹¨ì¶•ê¶Œ -1ë¶„",  weight: 41 },
  { label: "ë°©ì†¡ ë‹¨ì¶•ê¶Œ -10ë¶„", weight: 5  },
  { label: "ë°©ì†¡ ë‹¨ì¶•ê¶Œ -20ë¶„", weight: 3  },
  { label: "ë°©ì†¡ ë‹¨ì¶•ê¶Œ -30ë¶„", weight: 1  },
];

function weightedPick(list){
  const total = list.reduce((s, x) => s + x.weight, 0);
  let r = Math.random() * total;
  for(const x of list){
    r -= x.weight;
    if(r <= 0) return x.label;
  }
  return list[list.length - 1].label;
}

function run(type,name){
  const nick = document.getElementById("nickname").value.trim();
  if(!nick){ alert("ë‹‰ë„¤ì„ ì…ë ¥"); return; }

  const count = Number(document.getElementById("c"+type).value);
  let data = JSON.parse(localStorage.getItem("rouletteLog")) || {};
  if(!data[nick]) data[nick] = [];

  const stats = {};

  for(let i=0;i<count;i++){
    let result;
    if(type === 1) result = weightedPick(normalItems);
    else if(type === 2) result = weightedPick(nobleItems);
    else result = weightedPick(timeItems);

    const key = String(result);
    stats[key] = (stats[key]||0)+1;
  }

  data[nick].push({
    roulette: name,
    count: count,
    stats: stats,
    time: new Date().toLocaleTimeString()
  });

  localStorage.setItem("rouletteLog", JSON.stringify(data));
  alert("ì €ì¥ ì™„ë£Œ!");
}
</script>

</body>
</html>